import{_ as b,r as d,o as B,a as n,b as e,i as v,t as a,F as N,d as $,m as g,l as V,f as r,n as A}from"./index-BtZz1Nt2.js";import{a as f}from"./azkarService-T1o9ikPn.js";const M={class:"azkar-container"},O={class:"page-header"},P={class:"header-content"},T={class:"current-time"},q={class:"categories-grid"},F=["onClick"],H={class:"category-icon"},L={class:"category-content"},R={class:"category-description"},j={key:0,class:"progress-container"},x={class:"progress-bar"},E={class:"progress-info"},J={class:"progress-percentage"},K={class:"progress-status"},G={class:"info-content"},Q={__name:"AzkarView",setup(U){const k=V(),D=d(f.categories),l=d(!1),p=d(""),m=()=>{const t=new Date,s={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};p.value=t.toLocaleDateString("ar-SA",s)},S=t=>({"morning-azkar":"أذكار تقال بعد صلاة الفجر حتى الظهر","evening-azkar":"أذكار تقال بعد صلاة العصر حتى المغرب","sleep-azkar":"أذكار تقال قبل النوم","prayer-azkar":"أذكار تقال بعد الصلوات المفروضة","quran-dua":"أدعية قرآنية مختارة","prophets-dua":"أدعية الأنبياء المذكورة في القرآن"})[t.route]||"",i=t=>{const s=`azkar-progress-${t.route}`,o=localStorage.getItem(s);if(!o)return 0;try{const h=JSON.parse(o),_=f.azkarData[t.time||t.type]||[];if(_.length===0)return 0;const C=_.reduce((c,u)=>c+(u.count||1),0),I=Object.values(h).reduce((c,u)=>c+u,0);return Math.min(Math.round(I/C*100),100)}catch{return 0}},w=t=>{const s=i(t);return s===100?"مكتمل":s>0?"قيد التقدم":"لم يبدأ بعد"},y=t=>{localStorage.setItem(`last-access-${t}`,new Date().toISOString()),k.push({name:t})},z=()=>new Date().getHours()>=12?"أذكار المساء":"أذكار الصباح";return B(()=>{m(),setInterval(m,6e4);const t=new Date().getHours();(!localStorage.getItem("last-check-date")||localStorage.getItem("last-check-date")!==new Date().toDateString())&&(t>=5&&t<12||t>=15&&t<18)&&(l.value=!0),localStorage.setItem("last-check-date",new Date().toDateString())}),(t,s)=>(r(),n("div",M,[e("div",O,[e("div",P,[s[1]||(s[1]=e("h1",null,"اجعل قلبك عامرًا بذكر الله",-1)),s[2]||(s[2]=e("p",null,"مجموعة من الأذكار والأدعية المأثورة منظمة بطريقة سهلة للقراءة والمشاركة",-1)),s[3]||(s[3]=e("br",null,null,-1)),e("div",T,a(p.value),1)])]),e("div",q,[(r(!0),n(N,null,$(D.value,o=>(r(),n("div",{key:o.id,class:g(["category-card",{completed:i(o)===100}]),onClick:h=>y(o.route)},[e("div",H,[e("i",{class:g(`fas fa-${o.icon}`)},null,2)]),e("div",L,[e("h3",null,a(o.name),1),e("p",R,a(S(o)),1),o.time?(r(),n("div",j,[e("div",x,[e("div",{class:"progress",style:A({width:`${i(o)}%`})},null,4)]),e("div",E,[e("span",J,a(i(o))+"%",1),e("span",K,a(w(o)),1)])])):v("",!0)])],10,F))),128))]),l.value?(r(),n("div",{key:0,class:g(["info-bar",{show:l.value}])},[e("div",G,[s[4]||(s[4]=e("i",{class:"fas fa-bell"},null,-1)),e("span",null,"حان وقت "+a(z()),1)]),e("button",{onClick:s[0]||(s[0]=(...o)=>t.hideInfoBar&&t.hideInfoBar(...o)),class:"close-btn"},s[5]||(s[5]=[e("i",{class:"fas fa-times"},null,-1)]))],2)):v("",!0)]))}},Y=b(Q,[["__scopeId","data-v-ca7c660c"]]);export{Y as default};
